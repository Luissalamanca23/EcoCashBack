{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Luis Salamanca-(Luissalamnaca23)">
    <meta name="author" content="Pedro Barrientos-(PeyoBv)">
    <meta name="keywords" content="EcoCashBack, reciclaje, sostenibilidad, Puerto Montt, Puerto Varas">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ecocashback.cl">
    <meta property="og:image" content="{% static 'img/logo-ecocashback.jpeg' %}">
    <meta property="og:title" content="EcoCashBack">
    <title>EcoCashBack</title>
    <meta name="description"
        content="EcoCashBack es una organización comprometida con la promoción del reciclaje y la sostenibilidad en nuestra comunidad.">
    <link rel="stylesheet" href="{% static 'img/logo-ecocashback.jpeg' %}">
    <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/estilo-principal.css' %}">
    <meta name="google-site-verification" content="Gd9MCIovA2JFHNA4CInROaqd-kYPQgFl9_KlDNKJyeg" />
    <script src="{% static 'js/mapa.js' %}"></script>
    <script src="{% static 'js/validaciones/val_cotiza.js' %}"></script>
    <script src="{% static 'js/validaciones/val_contact.js' %}"></script>
    <script src="{% static 'js/validaciones/val_fecha_evento.js' %}"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <meta name="google-site-verification" content="Gd9MCIovA2JFHNA4CInROaqd-kYPQgFl9_KlDNKJyeg" />
</head>

<body>
    <div id="mensaje-centro">
        <p>¡Gracias por visitarnos! Nuestro sitio web está actualmente en construcción 🚧. Estamos trabajando arduamente
            para ofrecerte una experiencia mejor y más intuitiva. ¡Vuelve pronto para ver las actualizaciones! <br>Si
            quieres más información, no dudes en contactarnos a <a class="correo-mensaje"
                href="mailto:contacto@ecocashback.cl">contacto@ecocashback.cl</a> </p>
        <button id="cerrar-mensaje">Cerrar</button>
    </div>
    <header>
        <nav class="container text-center nav_regular">
            <div class="row">
                <div class="col">
                    <img class="logo-ecocashback" src="{% static 'img/logo-ecocashback.jpeg' %}" alt="Logo-EcoCashBack">
                </div>
                <div class="col">
                    <a href="#">Inicio</a>
                </div>
                <div class="col">
                    <a href="">Servicios</a>
                </div>
                <div class="col">
                    <a href="">Sobre Nosotros</a>
                </div>
                <div class="col">
                    <a href="{% url 'contacto' %}">Contactanos</a>
                </div>
                <div class="col">
                    <a href="">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user icon-user-nav"
                            width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                            <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                        </svg>
                    </a>
                </div>
            </div>
        </nav>
        <nav class="navbar navbar-expand-lg bg-body-tertiary nav_celular">
            <div class="container-fluid cel-header">
                <div class="col">
                    <img class="logo-ecocashback" src="{% static 'img/logo-ecocashback.jpeg' %}" alt="Logo-EcoCashBack">
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="">Servicios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="">Sobre Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'contacto' %}">Contactanos</a>
                        </li>
                        <li class="nav-item">
                            <div class="col">
                                <a href="">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-user icon-user-nav" width="44" height="44"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                                        <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                                    </svg>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <br>
    <div class="container-slider" id="inicio">
        <h2 class="titulo">Nuestra Historia</h2>
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'img/basureros.jpg' %}" class="d-block w-100"
                        alt="Imagen 1 slider (Imagen de basurero municipal)">
                    <div class="carousel-caption d-none d-md-block texto-carusel">
                        <h5>Nuestra Ubicacion</h5>
                        <p class="parrafo-carusel">Nos encontramos en el corazón de Puerto Montt, una ciudad llena de
                            vida y comprometida con el medio ambiente. Nuestra ubicación estratégica nos permite llegar
                            a diferentes puntos de la ciudad y realizar nuestras actividades de recolección y reciclaje.
                            Estamos siempre dispuestos a expandir nuestros horizontes y llegar a más lugares para seguir
                            contribuyendo a un mundo más limpio y sostenible.</p>
                        <a href="#ubicacion-ecocashback">Ir a Ubicacion</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static 'img/personal-anotando.jpg' %}" class="d-block w-100"
                        alt="Imagen 2 slider (Imagen de una personal-anotando en un basurero)">
                    <div class="carousel-caption d-none d-md-block texto-carusel">
                        <h5>Sobre Nosotros</h5>
                        <p class="parrafo-carusel">Somos EcoCashBack, una organización comprometida con la promoción del
                            reciclaje y la sostenibilidad en nuestra comunidad. Nuestra misión es fomentar una cultura
                            de reciclaje y conciencia ambiental, ofreciendo a las personas la oportunidad de obtener
                            beneficios económicos a cambio de sus desechos reciclables. Creemos firmemente que cada
                            pequeño acto de reciclaje puede tener un gran impacto en la salud de nuestro planeta.
                            Juntos, podemos hacer de nuestro mundo un lugar más limpio y sostenible para las
                            generaciones futuras.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static 'img/personal_trabajando.png' %}" class="d-block w-100"
                        alt="Imagen 3 slider (Imagen de una personal ordenando basura)">
                    <div class="carousel-caption d-none d-md-block texto-carusel">
                        <h5>Cotiza con nosotros</h5>
                        <p class="parrafo-carusel">En EcoCashBack, creemos en el valor de los desechos reciclables. Si
                            tienes materiales reciclables y estás interesado en convertirlos en efectivo, te invitamos a
                            cotizar con nosotros. Nuestro proceso de cotización es simple y transparente. Solo necesitas
                            proporcionarnos detalles sobre los materiales que tienes y nosotros te proporcionaremos una
                            estimación de cuánto podrías ganar. Recuerda, cada artículo reciclable cuenta. No solo
                            estarás ganando dinero, sino que también estarás contribuyendo a un planeta más limpio y
                            sostenible. ¡Cotiza con nosotros hoy!</p>
                        <a href="#cotiza-ecocashback">Ir a Cotiza</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static 'img/personas recolectando.png' %}" class="d-block w-100"
                        alt="Imagen 4 slider (Imagen personas recolectamdo)">
                    <div class="carousel-caption d-none d-md-block texto-carusel">
                        <h5>Nuestros Eventos</h5>
                        <p class="parrafo-carusel">Estamos emocionados de compartir que estamos planeando una serie de
                            eventos comunitarios en los próximos meses. Estos eventos estarán enfocados en la educación
                            ambiental y la promoción del reciclaje. Si estás interesado en aprender más sobre estos
                            eventos y cómo puedes participar, por favor presiona el botón para obtener más información.
                        </p>
                        <a href="#eventos-ecocashback">Ir a proximos Eventos</a>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon button-slider" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="next">
                <span class="carousel-control-next-icon button-slider" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div> <!--                 fin carousel                 -->
    <br>

    <section class="contenedor-secciones" id="eventos-ecocashback">
        <article class="p-3 m-0 border-0 bd-example m-0 border-0 bd-example-row">
            <div class="container text-center">
                <div class="row" id="contenedor">
                    <div class="col" id="eventos-ecocashback">
                        <h2>Próximos Eventos</h2>
                        <div class="fechas-eventos">
                            <h3>Eventos</h3>
                            {% if eventos %}
                                {% for evento in eventos %}
                                <div class="evento_con_fech" class="evento">
                                    <div class="fecha-lugar">
                                        <p class="fecha-evento">Fecha: {{ evento.fecha|date:"d/m/Y H:i" }}</p>
                                        <p>Lugar: {{ evento.ubicacion }}</p>
                                        <p>Comuna: {{ evento.comuna.nombre }}</p>
                                    </div>
                                    <div class="descripcion">
                                        <p>{{ evento.descripcion }}</p>
                                    </div>
                                </div>
                                {% endfor %}
                            {% else %}
                                <p>No hay eventos disponibles.</p>
                            {% endif %}
                        </div>
                        <div class="container-suscripcion-eventos">
                            <div class="row">
                                <section id="suscribirse">
                                    <div class="container text-center">
                                        <h2>Suscríbete a nuestro Newsletter</h2>
                                        <p>Recibe las últimas noticias y actualizaciones sobre nuestros eventos y servicios.</p>
                                        <form id="form-suscripcion" method="POST" action="{% url 'agregar_suscripcion' %}">
                                            {% csrf_token %}
                                            <input type="email" name="email" id="email-suscripcion" placeholder="Tu Email" />
                                            <select name="tipo_suscripcion">
                                                <option value="Eventos">Eventos</option>
                                                <option value="Novedades">Novedades</option>
                                                <option value="Ambos">Ambos</option>
                                            </select>
                                            <input type="submit" value="Suscribirse" class="button-suscripcion" id="boton-suscripcion" >
                                        </form>
                                        <div class="msg-correo-sus">
                                            <p id="mensaje" class="msg"></p>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                    <div class="col" id="cotiza-ecocashback">
                        <h2>Cotiza con Nosotros</h2>
                        <p>
                            ¿Quires recibir ganacias con tu basura resiclable? Contactate con
                            nosotros para poder saber cuanto podrias ganar reciclando con
                            nosotros.
                        </p>
                        <form action="" method="POST">

                            <div class="form-group">
                                <input class="relleno-form" type="text" name="nombre_cotiza" id="nombre-cotiza"
                                    placeholder="Nombre" />
                                    <div id="val_nom_contac"></div>
                                <input class="relleno-form" type="email" name="email_cotiza" id="email-cotiza"
                                    placeholder="Email" />
                                    <div id="val_email_contac"></div>
                            </div>
                            <div class="form-group">
                                <input class="relleno-form" type="text" name="telefono_cotiza" id="telefono-cotiza"
                                    placeholder="Teléfono" />
                                <input class="relleno-form" type="text" name="material_cotiza" id="material-cotiza"
                                    placeholder="Material" />
                            </div>


                            <textarea class="form-control" id="mensaje" name="mensaje_cotiza"
                                placeholder="Mensaje"></textarea>
                                <div id="val_mensaje_contac"></div>


                            <button type="submit" class="button-suscripcion" onclick="validar_formulario(event)"
                                id="enviar-cotizacion">
                                Enviar cotizacion
                            </button>
                            <!-- Eventos de FormSubmit -->
                            <input type="hidden" name="_next" value="https://ecocashback.cl">
                            <input type="hidden" name="_captcha" value="false">

                            <div class="msg-validar-campos">
                                <p id="mensaje2" class="msg"></p>
                            </div>

                        </form>
                        <article class="container-ubicacion" id="ubicacion-ecocashback">
                            <h2>Ubicación</h2>
                            <p>
                                Estamos ubicados en Puerto Montt, pero también realizamos eventos
                                en Puerto Varas. Si deseas contactarnos, puedes hacerlo a través
                                de nuestro correo electrónico o número de teléfono.
                            </p>
                            <div id="map" class="map map-home" style="height: 300px; margin-top: 50px"></div>
                        </article>
                    </div>
                </div>
            </div>
            <!-- <br>
                <div class="col">
                    <div class="row">Column</div>
                </div> -->
        </article>
    </section>

    <!--                 fin eventos                 -->
    <div>
        <div class="subir-pagina">
            <a href="#inicio">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-big-up" width="37"
                    height="37" viewBox="0 0 24 24" stroke-width="2" stroke="#003E2C" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path
                        d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
                </svg>
            </a>
        </div>
    </div>

    <footer>
        <div class="conatiner-fluid">
            <div class="row p-5">
                <div class="col-xs-12 col-md-6 col-lg-3 footer-link-nombre">
                    <p class="h3 mb-3">EcoCashBack</p>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3 footer-link-nombre">
                    <p class="h5 mb-3">Redes Sociales</p>
                    <div class="mb-2 footer-links">
                        <a class="text-decoration-none" href="https://www.WhatsApp.com/">WhatsApp</a>
                    </div>
                    <div class="mb-2 footer-links">
                        <a class="text-decoration-none" href="https://www.twitter.com/">Twitter</a>
                    </div>
                    <div class="mb-2 footer-links">
                        <a class="text-decoration-none" href="https://www.instagram.com/">Instagram</a>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3 footer-link-nombre">
                    <p class="h5 mb-3">Links</p>
                    <div class="mb-2 footer-links">
                        <a class="text-decoration-none" href="https://www.facebook.com/">Terms & Condiciones</a>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3 footer-link-nombre">
                    <p class="h5 mb-3">Contacto</p>
                    <div class="mb-2 footer-links">
                        <p>Teléfono: +56 9 9999 9999</p>
                    </div>
                    <div class="mb-2 footer-links">
                        <a href="mailto:contacto@ecocashback.cl"><p>Email: info@ecocashback.com</p></a>
                    </div>
                </div>
            </div>
        </div>
        <p class="derechos">&copy; 2024 EcoCashBack - Todos los derechos reservados.</p>
    </footer>
    <script>
        // Función para validar si una fecha es pasada y actualizar el estilo del evento
        function validarFechasEventos() {
            // Obtén todas las fechas de los eventos
            var fechasEvento = document.querySelectorAll('.fecha-evento');
    
            // Itera sobre cada fecha de evento
            fechasEvento.forEach(function (fechaEventoElemento) {
                // Extrae la fecha del texto del elemento
                var fechaEvento = fechaEventoElemento.innerText.split(': ')[1];
    
                // Convierte la fecha del evento a un objeto Date
                var fechaEventoDate = new Date(fechaEvento.split('/')[2], fechaEvento.split('/')[1] - 1, fechaEvento.split('/')[0]);
    
                // Obtén la fecha actual
                var fechaActual = new Date();
    
                // Compara las fechas
                if (fechaEventoDate < fechaActual) {
                    // Si la fecha del evento ya ha pasado, oscurece el div de eventos y muestra un mensaje
                    var elemento = fechaEventoElemento.closest('.evento_con_fech');
                    elemento.style.backgroundColor = 'var(--verde)'; // Cambia esto al color que quieras
                    elemento.style.color = '#fff'; // Cambia esto al color que quieras
                    elemento.style.position = 'relative'; // Asegúrate de que el div del evento tiene una posición relativa
    
                    var fechaLugar = elemento.querySelector('.fecha-lugar');
    
                    // Crea un nuevo elemento para el mensaje
                    var mensaje = document.createElement('p');
                    mensaje.innerText = 'Evento ya realizado!';
                    mensaje.style.position = 'absolute';
                    mensaje.style.top = '0';
                    mensaje.style.left = '0';
                    mensaje.style.color = '#fff'; // Cambia esto al color que quieras
                    mensaje.style.backgroundColor = 'rgba(0, 0, 0, 0.5)'; // Cambia esto al color que quieras
                    mensaje.style.padding = '10px';
                    mensaje.style.borderRadius = '7px';
                    fechaLugar.style.marginTop = '40px'; // Ajusta el margen superior para que el mensaje no se superponga
    
                    // Agrega el mensaje al div del evento
                    elemento.appendChild(mensaje);
                }
            });
        }
    
        document.addEventListener('DOMContentLoaded', validarFechasEventos);
    </script>
    <script>
        var myCarousel = new bootstrap.Carousel(document.getElementById('carouselExampleControls'), {
            interval: 5000, // Cambia la velocidad de transición del carrusel (en milisegundos)
            wrap: true // Permite que el carrusel vuelva al principio después de la última diapositiva
        });
    </script>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDaeWicvigtP9xPv919E-RNoxfvC-Hqik&callback=iniciarmap">
        </script>
    <script>
        document.getElementById('cerrar-mensaje').addEventListener('click', function () {
            document.getElementById('mensaje-centro').style.display = 'none';
        });
    </script>

</body>

</html>